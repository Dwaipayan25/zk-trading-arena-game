// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import {Zktrade} from "../src/ZKTradeNew.sol";
import {Test, console} from "forge-std/Test.sol";
import {UltraVerifier} from "../src/profitVerifier.sol";

contract ZKTradeTest is Test {
    Zktrade public zkTrade;
    UltraVerifier public verifier;

    address public owner = address(0x1);
    address public player1 = address(0x2);
    address public player2 = address(0x3);
    address public player3 = address(0x4);
    address public player4 = address(0x5);
    address public player5 = address(0x6);

    function setUp() public {
        // Give initial ETH balance to participants
        vm.deal(owner, 10 ether);
        vm.deal(player1, 5 ether);
        vm.deal(player2, 5 ether);
        vm.deal(player3, 5 ether);
        vm.deal(player4, 5 ether);
        vm.deal(player5, 5 ether);

        // Deploy the UltraVerifier contract
        verifier = new UltraVerifier();

        // Deploy the Zktrade contract with the verifier address
        vm.prank(owner);
        zkTrade = new Zktrade(address(verifier));

        console.log("ZKTrade contract deployed at:", address(zkTrade));
        console.log("UltraVerifier contract deployed at:", address(verifier));
    }

    // Test: Contract deployment and initial state
    function testInitialSetup() public {
        assertEq(zkTrade.owner(), owner, "Owner address mismatch");
        assertEq(zkTrade.currentSeason(), 1, "Initial season should be 1");
    }

    // Test: Player enters a game
    function testEnterGame() public {
        uint256 gameNumber = 1;

        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber);

        assertTrue(zkTrade.enteredGame(player1, zkTrade.currentSeason(), gameNumber), "Player should be marked as entered");
    }

    // Test: Enter game with incorrect fee
    function testFailEnterGameIncorrectFee() public {
        uint256 gameNumber = 1;

        vm.prank(player1);
        zkTrade.enterGame{value: 0.002 ether}(gameNumber); // Incorrect fee
    }

    // Test: Enter the same game twice
    function testFailReEnterSameGame() public {
        uint256 gameNumber = 1;

        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber);

        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber); // Should fail
    }

    // Test: Save game details
    function testSaveGameDetails() public {
        uint256 gameNumber = 2;
        uint256 stars = 1;
        bytes memory proof = hex"1427a9890f279407eb76c8fe529d7e7771e5081ab067e59cad76bea8e8c21d352b8e99fba4ccc4db5999cc152d99a4ea20dc68b2d5ce0e5f6bbcb9861e982bd020e73fb47f135784b40ddf228a40d34120634b10976dcf22907f921c2070f1500814c6ee7a986dac9f662352d28a2a7f295f389cfd86a202a5c4ec3c6ff682c32c6d0c914e2c183fc03af1e6d76ab320a37dbb145c487f2e7bb09649beaff4b42dbd7a4cec79c9fb25c9572fe7cc206098a6d46b1d20b14e6ed160f1908a4c52294c73b9aae13f293e424e48e5533652ff9be952c2cf4c4f98293431bcf569231c2a82869b88e5a6e7231e4ceee9261ed6a8e69824dbeb622f9c1f71a9bf419c15e5e5d1d39d6242a6aeb8eb5b4f437f73126a41511aea8d597cab3c6673eeea15f1a65431aa76bdd42d1354012bff7ef7b4e8cb88fea1bd2a16fa2fabc0bd501dc7902797568182d3d20c92a1ee538eca54f1c27d9652d6d98b2b5c20e715981ae61cfcee8937679e9acb4e590ee9660dc8823f70be478326d3ad6c69e6126518cd76ee22014b860b64bcc668d1c988832c52d89942da8ff3a14be5bacb665b21eb3907d4e2afba10691c4db02212375babda8bf0fae0dadacc6a20bf40d337173d1dd68139ea3dbe878a7b94b4faa41b1980992a5a21786bb259fde6065b03081c8739c1b55e3073971b1de45f0a803eb346f6054a2cca1b0b0ac31b4095ce2c7a434d1a6be9ab41e1f5f17a9adc772553b19c7eddf9a877c48aaaaa4734ae2cc2e200df98af14544a07de002eb08968c534f90aee42c234e5ade5235321cf1edd19d732786bc32662f16ae76e86224862a78ba5820154f22ad905745d06f32a0306b34a140a62a47d2398bb6cc98230346341a0be9d53bcc636674ee4bbde12097de2261532edb601e5d51e31bde33ae9c5bff9414158cbd46dd8237dadd518ac9ff152e8929a1fb8ec136ebeb46edec4993db9c7d5a7d63a4b18bccaa68527d5f002376994360e182bd394125639b9128a74fa964c3edcee886f1d6fe6ef149df65a24918a528b00b27b0389ec9dea9e553ee39abf229b904c475529f92f0bb684f38ab9f7f913b218bb59b89e79fbae79f602d297e4a3a091d23b228fcd2a11be821472eed0cb97b4dadeced8426d08ac7ea2e59fa74cb5fe696da92fe01054553e8905859e71e24f004d131ad72d2a94d62b8ec99b05d294db4190634912bfaa191fd7fcb687021f56debfee7b06a5cf40b5ef8382e41c08f8e0cdcbdd1ff73f2e71b771f22009411f8426dce9d840ad53282bce4938afb05b3a0a96da0990e8567893b148cf668b92bbedc30b6263dd87788538ee115316e8f9fcb30b27b8b96b2791717258e1b46b244a766c4c3a3525cab4354ead2c8879896a165425b26b6f033a663b3ff7db3d653052a0c56959d7f50d6211afc0395002564952234069b00610e268dda9c834338a118e759dce356ab4639c75f17676130aca5a26883a9064646bd74684ba5fbe788a8bcb53964ec759c76d288963121d8bb1792333a1f4fac9d36ee81c74967e7435f464ccb5abc9c2789e0662714768f44e3811d75be9185c36abe515cc13c52c89f63f5826556ffdb430e2a169dca6d68dfc072af3c86e11bccd0de90c1e7409ca2fd594cd637e5d652ca30bbdffc9febba52dd53deff7f1e69258c821c47f09ded4ada4b578b608c7af23194a77fdc90a701d6b05823da163ac8281cda5a8edecc2e7f545f42262012cb37ec9272118447c110f411415f95544779cf64d8e49581a82ab634a2c94d2d1d016572bb957ea181da97054b573712dd51473123329ab8de642a453d86a0e339e43fe47d29c75f9236a5765b13c489bba84166a01ef87b19ce12ff25ec96e60002ddf4e8193d4761a34a21b1a9bad3eff1d5572a08fafb598406d65b9cfba98650e29c42b20a3022cfae319aa31fe0a8e456b1e7e3760fc84ca4f3374cde4b9182bbc1957b6b8951c90aaabefe17b24b7ff16ffa81b6eeabf1adfaee1271e36a8913ac87b05f2a10c26723e3590f83ee1b8c2e0d1ff7cd8f96b702a4d8057b438f6b9779e552cad2c2088435c721582c3c2b4787d64e3245befe8ee339301c30d3e2dbab1a466ba0d00cd148350e0c6ac3b7986d2d1fab12245d66f8ebb3aaa43e447d644677e8803658fa4b4063340db3588ce58eb8328ac14e6f763ad43b415d8e5a353876bcb1d4c8d3b4e27f69f0aaabfbb7ff8f5e292836481ad2c53fe825851a6fc2924b027554b7babbb349330006af8f80973cc63c6805304bb9ef7889d5a68e751df8629df7a09813657b2bd092b8acd168c32b9c9989114232b2a6334f6184e91deac103d31ae88d85610ebc3a119228ac90d3e1f1bdc90b95975fb4e77c167f8b97c1bbc1b686d086a8dad04800724db72c2aa87bd73e83b2c29eb62378cc83733500cca9924af237d72a616a59f1baa965b1b1eb57b7fd2ae91d443ab42187f5e8a0fa294eaaf331e58984dfe2ed97d14b4b357d984cc6bc8dc8014d361225f90901170529e7b4928e3364792e3220b1508f1eefc3cc92d39cf08a732d884ddb7ac1a7397bd225b88c6cbb008acdf30f3b6569fc1b302c69e76ee5adea23c04f1fd1e73ffa92b7a100445d18944db357b35d2e0de0ee89cecfb4d402cfb3706063321ef40e9d831e630b143207701ff4c10e7d8d85b826b2558368ffa97c55556e90077f6272bfb814020772ee2b65e3acc725951821ca8feb29d87d74acc71c8d10f64f9d760f6bc7947fb8304ec3e81e5250db2f130a0489e4861a991c38e3aba1e51fd8795f1f7b26f7fd727221ec8fdd7c2146044979289f33b7bd8baaaaca3023127b34740604f33e1d0ee07dfaaa76059061dda621a9bbf86badc2881bd840dceb891694105a2334bc54acd2b0fa12ac828d05f94075ea6ef7e59032701cc161ff8d85d464ccb82a780d5f2898bb95ae6f5d1b2a2c83fd6c23b98b614b3d02549e392a371b00638dc5a0a20b66bd48e194be5b6c8742611500dfb592d00a2";

        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber);

        vm.prank(player1);
        zkTrade.saveGameDetails(gameNumber, stars, proof);

        (uint256 savedScore, bytes memory savedProof) = zkTrade.gameDetails(player1, zkTrade.currentSeason(), gameNumber);
        assertEq(savedScore, stars, "Stars should match");
        assertEq(savedProof, proof, "Proof should match");
    }

    // Test: Save game details with higher stars
    function testUpdateGameDetailsHigherStars() public {
        uint256 gameNumber = 2;
        uint256 stars1 = 2;
        uint256 stars2 = 3;
        bytes memory proof1 = hex"229ebb8d7c305b1f60aaadd89df03ae4b17dbe81c048bbbecb5f61180be3b316029448d48ba98f22982dfdb569ea2fa3f2b38e1a3f11fcec6f389483a1713346065d31e9660d90c4a4622ef2a3bdc10fb14d097bb81759ead3e205c9e71e9cc61940a08994997c0c11e2f578e8a3e09c80ed5761cf4b453fafbed9d57d07e4af2af6ee578eef885afeb034fbe16cfbe1b487a41db0cb03cc1417b504d98b46a12122ae0e43f7fad280441423d00fabea953f02626eba42f9fbe7156760faffda0064caca9b74f453837bcab31df5a999c532a731a71b73a775c95b39c6d35c1b027d1135f35641f548da130b174e8cee60dd6811b3cf0a41f30b44fe7c57fa871ccfd372cb37522746190741a5b9e164bf0f7519545035c64508f4316323a49b10df592dc98b871f018f3519150d0f8339ae0429309f24c8dcc990075d576352028b83d64d2f767331fe6192ee3bb1e4bb05bf4d48687d278d4e038227a82dd81c33be6d34dbaca0ace74867ca9fe2fecc08819024f8383bc41da71c33594c540190100062628773e54aa8a948712919d7d5067cefc2c4120da68bca82aace7711bbc1905eb558f1c9b3b93497d96fe71400b09fee84e9e18ca2c0ce99a506a52ef691bb0866f13aa6037c750bd980e24ed1013f55170706c4da9baf68ce2d4b0df73c1b3778daeab526fece3aec789f0a3195e3c185b41e96b7d01ac11e17b02b745dd1dacea6795e5cb53fcceeed2df9ba3e24e051aaf8aa1f8afafd8432f913f901d19a73f63784c41c839bf53b1ba4c3c0298bbf1b8aa5a51b49d99e219a04d578dc21c7200b37a5062409084ebbe35103dce8d85c63e9944da5fc16a8fc0bb6af53bb1571fc5c43d256a64a4ba9a19f3e4203c00e3ceb5f80d13f44985208891bd12c198827c90d58f4b960b48c7c5e3eaac1d5f6f63da39c21245ff5a82353f042d40ad0cc2ece5fd9f6ebfff9828e5057a3a93625a0985961004b505d289f94f1aff0d1db75573caff28a58b03170d904792103ee632a2235ff4ce27e059eb9e9598ed35f3ac2f5fa4d5824a4582d91c05c05f36a4fe06e78011ccae1121e3ae2158a184e3914a6d812bfa361c27da573d3738d9c9bd9bbab95060d7c18a2933aeec8f507721fac4f74fe600e66b74530f8df121e7a137f4e8c5498a12a8a29d206c2a47defbfb1f439898844dc7a35339e86bddb989f58988b6abf821483935ab6e7755ebced2619c6b95878250384339910f7b30c3688fa4dea27c729d4342d536ffa431ceb2e87457c063f1aba1ef709897f8c68a19ed08148f2e8277ae73fe3a68987e4e764bbb0bb6d60d9bf04ece1b12b316df17bfad7f826a42408cafe837ca64132e7f490226c2d60755da5948d3c4b1270b5ef33b5ff597c000897a732dc991dc24f57cdbe44bb7783e6cfb17f8609184dde9d9a48d736ae1fc2f4ccd234402f6564bf62acf8acf492d0056d371c8cc2d91fdf9cce30ca49032659e57e29d0e9c46102d92b4955896129ccc3b727d4d315a13c18d78019e11100d5c3f4c3373ac75e99113f841d1020ddb44d7a5b7b82290b7595244320f22780b5642505756a9a4123daf2139fea606ca8fff0daffe7396ce0825859c58f056363c8131124b6ef6bf908accb4067910876ec653505bccadefee93ebd368c0ca1e6548d8bb8ee5633c9689b90fa85e11d69b03dc5b9ead7b676376a32294e238b22c9e4ea311b5c5d37a8e668cbda9a37c0395e4a8ed3b8847eb835fed8900130e843a52ac566797032a19335f3f38c2bab30abe1cd1e0491c3783ede165c257608b2c2d6bc0cac38609d8790152399e9c0cfc11bdeb9220cd56669d284140f2b26aafdf808a9eea5cc73d420d76cf2f4a7b4199c323466c91bf576cfb4430c25ad82ca9f4eeb53a94ce621e23d47c4b4c18f0e28ae58cd7d002abd8be44920f94d41b275814bb05fce72fa971626e4388503259ac814363e9a25dd983713077e3b4428a2594efe38f6fcc3ed8f1e751ef343cc662c6bd32aad12b964e6541e6777b98000d17c0462653d0ec560732e3949cceceb0154b3f8b5938531959604ec65bbf62da97f523b8dc6d81bd96abf1fb80d93b665ac50e4c88060fe44d70a1010cc5b17091eaa366032afbf44d22b1e2e7a0515f32b557091a511cb87d1237ea0000b033a836333746a737314e1db87cbd208a2e88f511c24bd1b1eb93b2fd00e695cb0f0a7e2bf2ecc0871428ce9410739f04329f2c0c54c931bcbde761cf6c8e7498609f06719f69bee5cd69c7707b42dac9b2d217e6ee47b24ed29f507a49dc6bd9e57ebdc8e4926f63b6067fdf3978b28743a8c14a2f6460fe09b870048fdd31f7e987083eca281045f5518c477fcb137a4979265111a90ef42112a04df06c231ba004582121b90d3d803de4cbcc2a378abd6c41d3738bb202b64a60d0a28a7e2877dd8099c9ccbfd88e378dfc0f3f9e8e8df7bd1064019c6cea54510764206333cd41cf4089a32dc4953e1d837f90c4d70124260f7d112dab01fc61daaf27a82e424578e6352f14e726d04b035dd50091d1221d89ddd4d2ae027372c376a25d1a7ee4aa9c96669c2b0d6dd31741b7e923835e6e8749def2653ab2826b63c1c8b5bb632ae8371fd32b7835ad2a24f7fc19dcc1855541a12da5f9d8a04d2f4f01438ba2d0f37d126ef93e560e02cfa9524403116357e92ccf2a4c5800539deaec092c9b0d07c77ea2e358dd39d860f76e7458a82b9f3c9b35c3280a005a0c86d6cecd93491c11ead6cd736465adf2458aa4ae3ef3e690099c5c03bc00607b22c1946e8b85305c570ab78deb91838393a6d503d5bc2de37802f4df6e018bd9854f8eca2faf54d340ae453cabbbe41a522c491b4a510c3600d09e09d001d5e693d3534cf2031fe4c63fc2e973887a89f37eb5dd6f0989af6ed0c0d83561611ced9c6a22e6fbf769f364b53454972ae65cb01fa0876cd847b989a31df531d00d23afb2eec00ff4f8161bcf2dc4c2116fa707deceac777a950bd8b890260";
        bytes memory proof2 = hex"28e109b4be93eeb98f8cb71d48e5b6cf153e50aff645056a166b4953dff8b9702794d270f9befa9b7726fa454adfa96e020ad7d379d41be572e8d6bc0502c33e2d705a993db4ad6abca01dfebeef8a205f3c25d463af3a0bd6ef503eacb782841e7ee9eda861aec04b57fe01dc1a9561e8daefa165af96324042bc536f89071004eda84a73ccc791b6e0ec953fff5c832396107ae97adb9b7ed507c93d5cd1731513ae027a515daf2f3ffe5f469547e8b15e7b0e2110c5fd952b5a83dfe77db31c5de0b6a2d57e62fa3f7f5dc728a22cca1fae62974376ccd5df2dd916a305ce2958555706a582301094f8c1ea87a3cf5949dc29f0050a4cc7a7eba14887c1c726c911798567053b5600cace9289745bc1cd084756dcb819837909f504cf8d3d23ea83c8695cc2f69fe5c468ac3ec65fe657096e6c731d85a2a43da1deba6e4a1bbce684b0571d8603ac03b05d59f3f220e52f4333f9bad8ab1e0237259c266b2d10adb7fe4884027d7fea1e513b4ecf4e54d441f85417f8d9ec4c312bcab8612036a0b804f9bb5028ff597f4051ec3a32c0b2bb8e3361a07b7a6b3894f0ac8912e0044e27b16068a79a1174d259c089696fe851d4c4ad765a092e92447eaea02045cfe0ac707a8b6f1bc88eb7a300ec564237aaa07d5e73820828774b178bb52273698248a48c012ed15ada61150f38a29e59a0793e7fc1701070604f4b74d307ada4b3ed766d40fbcc62a8c599bc8f0b5db8ad42a08a04d2c1edd6c75fc68e259d08024f5df8ae059ba502cf351fd077c4de80631d0383eeee60a51311f5e72089ae7b84a25faebac24936b3e7d06dc906bfb0619020173f4b708300fc7fb900b23adf42a75050bf75e76df3943b7a302b8d40f35f4bd515d5c997dacb3bf812c02678ad26fce3aab44e94ced8c868bc363562d5a74c134a629c9fcbc8d8f11377a0f9aed6ad2bc7f176d94020f86d234146c2a1e38e0015ba35b8b50758601226ba61edfb7665da52dae611a4f4def149d81ce49860e452db084dd45da4d1103894aaacfab9ba5c0ec622433c76a730b524b3e7b4a1ae615f99ef27aa4b05144400310fea84053446f185cc6b0d8ebc7dfae2a1afc5dd6b9c0041ae2d20a009e5e2b927359b1d1d31711e3c3cda595ecee4763572791f9b81e458d4d974502950370350d7672047eb0f2451762d8f66a9210f1381593b01e590018e84841a02c731ccc1f0c4629efec98c43a57d913e6ccb07a6afb1c040df0e453ce4a45b276d7feff75b12a0b38148a16fc7d19366b829a8e2ab3d16acf2c0009d9581391ef0ed45c14ade642f9b26a5f6be830c9c1582faa9ba6838c16c27ffa47bd62a03535cf6d227f0a2898fe4cf85ce2a1e1dc010b37762765db821539c409692741a994fedbed04b7004e1238e8e91a24670224f67ca9c04ff4b8220c75ceb075d12ed07d6776e20be9ec402e1a5ed3612e514775e2dcd5907cd2b1b3bec3646af2bdf79bbefeaf6eae57a8fb4ea1b591c87e8156dec841d4bbdeba1090ca079471845f9dfe7ea9f1dd2d0b6422def4fc5d92d38fb359c1b036547d1bb39e9e8172e4ae03368d2daff8db5c6c1f9d4e4fa5cbd41f5d9bd932516b5f1ae4bc3e3c41e0132b073871074079f2481f39f41ca12f93bda2a27615635868702dfb66454087f3563ef8a7ac218881e7ad943abe0d365bdc0c07cde8164bde043cf2546cb0970e5fd430ba4d7a97acc887fa086164038282b808abe56e1b68767c9b7a3fe2e211f979d5dba8fd0605f5a7039e9e24196c92c29ac3d8edcc523b6ff14d54e2881ff999f0a5cb22d10ad8a44c795a68cc24007b2a0985a7bfaeaaa95676ce90fc26286af3b9f5f9c5e9339a06c16b1616dd27a37bc109760e33e5ed41932380f6fce7eda1da600fe3e9c2f5c32bafd697f7aa235f9c6ffaaf3e930ba8904ea0b54472fea0df902cb6028a3cc5a3a8119dcfd0100a67e01dba7d5afbedc5e640c45f7c93d8f23185c52d6b172b714b686af676bc0b45dd758a07cd3b96ebb970d37a86291104d2ded4584bf1913eeebf381d1d680c23dacd59923f7b40118ca0e2958fbe49177437e3832ccbf70c92160543c4140d01d825291cb1bae9375fd0a629696968cceed3a6d7a9625fd604bad0a929640989e2c5eaf2e8bc44a013126eaa8074854c028d599d8eba12522a17ac357fb2a90984ebb095e564851bcba26a58912855bbbe6fb7d16f3764c4a080fc7f30b52f03126aa9ad3fec27d39160ed56b2f07e571c026a6d422ad17b009bd758613e2b6d7cb05e92721b0994e00015af94d3261803fe765280f1a63fc0c6bdc4825eb4fcaf87ec6b591cffc5f19284d27fbd2fdf17b275328cdc0c2e6d89cc0c8ee92e4cc1f20cd94dfe84df65e20abb099c096cab82b09fcceccaf5ff3ceb810bb3ccda6247e6fde540d026b9c1b38f122b0b83d5490e1aa290ba458646af29bfc4c4e76ede4b702ce5d323ecf1d7638238646dd2711a7bfff94994c9bb365f8e91637e66b1e1f38c6febd2865046b452f549d44a6a1676a3a0a1beef1fa0af0f98cfdbc311b739ec41d24d7d30a231a67b205c0b3f6597eaf5510d9e4276ac19d580edaf9d4929ca698ba3aeb295cf1802e83a9f78de3738fed0f7c5f47ba643853e6b41e40a71cfc7aab0b5824823afc104d53dbc89e611781f878111f7301a974eaa2b1d31499bb418990b62f9dccf98c86b58a62b8f4cd37b810ccbe1a932e52f26dae2ffbfa23845507700a551084278e770f448342cc6bf6512b348e3c6ab740c819490164f7d7207e291570a281a3c7d8bdde9dd68221b5e9e6d335cdef95489315a5e8c56019ebf4e30597bed5dba25f5ebfa7f7eb67f09f3642774c99b1d952b4df4257e5d5239c5219c86860f5d4c9557a8bbb61998243649c752bc93ab6c0d0dcc0a59c4761cff311aa13ab020bd22a0e51ed1db8cd3dda80a52c6d02533b1a88b640a4942ee5a11aaf430f8484a6adc79f523a30c6d7aa49853720b05518de517673c85416d085";

        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber);

        vm.prank(player1);
        zkTrade.saveGameDetails(gameNumber, stars1, proof1);

        vm.prank(player1);
        zkTrade.saveGameDetails(gameNumber, stars2, proof2); // Update with higher stars

        (uint256 savedScore, bytes memory savedProof) = zkTrade.gameDetails(player1, zkTrade.currentSeason(), gameNumber);
        assertEq(savedScore, stars2, "Stars should be updated to the higher value");
        assertEq(savedProof, proof2, "Proof should be updated");
    }

    // Test: Claim XP
    function testClaimXP() public {
        uint256 gameNumber = 2;
        uint256 stars = 3;
        bytes memory proof = hex"28e109b4be93eeb98f8cb71d48e5b6cf153e50aff645056a166b4953dff8b9702794d270f9befa9b7726fa454adfa96e020ad7d379d41be572e8d6bc0502c33e2d705a993db4ad6abca01dfebeef8a205f3c25d463af3a0bd6ef503eacb782841e7ee9eda861aec04b57fe01dc1a9561e8daefa165af96324042bc536f89071004eda84a73ccc791b6e0ec953fff5c832396107ae97adb9b7ed507c93d5cd1731513ae027a515daf2f3ffe5f469547e8b15e7b0e2110c5fd952b5a83dfe77db31c5de0b6a2d57e62fa3f7f5dc728a22cca1fae62974376ccd5df2dd916a305ce2958555706a582301094f8c1ea87a3cf5949dc29f0050a4cc7a7eba14887c1c726c911798567053b5600cace9289745bc1cd084756dcb819837909f504cf8d3d23ea83c8695cc2f69fe5c468ac3ec65fe657096e6c731d85a2a43da1deba6e4a1bbce684b0571d8603ac03b05d59f3f220e52f4333f9bad8ab1e0237259c266b2d10adb7fe4884027d7fea1e513b4ecf4e54d441f85417f8d9ec4c312bcab8612036a0b804f9bb5028ff597f4051ec3a32c0b2bb8e3361a07b7a6b3894f0ac8912e0044e27b16068a79a1174d259c089696fe851d4c4ad765a092e92447eaea02045cfe0ac707a8b6f1bc88eb7a300ec564237aaa07d5e73820828774b178bb52273698248a48c012ed15ada61150f38a29e59a0793e7fc1701070604f4b74d307ada4b3ed766d40fbcc62a8c599bc8f0b5db8ad42a08a04d2c1edd6c75fc68e259d08024f5df8ae059ba502cf351fd077c4de80631d0383eeee60a51311f5e72089ae7b84a25faebac24936b3e7d06dc906bfb0619020173f4b708300fc7fb900b23adf42a75050bf75e76df3943b7a302b8d40f35f4bd515d5c997dacb3bf812c02678ad26fce3aab44e94ced8c868bc363562d5a74c134a629c9fcbc8d8f11377a0f9aed6ad2bc7f176d94020f86d234146c2a1e38e0015ba35b8b50758601226ba61edfb7665da52dae611a4f4def149d81ce49860e452db084dd45da4d1103894aaacfab9ba5c0ec622433c76a730b524b3e7b4a1ae615f99ef27aa4b05144400310fea84053446f185cc6b0d8ebc7dfae2a1afc5dd6b9c0041ae2d20a009e5e2b927359b1d1d31711e3c3cda595ecee4763572791f9b81e458d4d974502950370350d7672047eb0f2451762d8f66a9210f1381593b01e590018e84841a02c731ccc1f0c4629efec98c43a57d913e6ccb07a6afb1c040df0e453ce4a45b276d7feff75b12a0b38148a16fc7d19366b829a8e2ab3d16acf2c0009d9581391ef0ed45c14ade642f9b26a5f6be830c9c1582faa9ba6838c16c27ffa47bd62a03535cf6d227f0a2898fe4cf85ce2a1e1dc010b37762765db821539c409692741a994fedbed04b7004e1238e8e91a24670224f67ca9c04ff4b8220c75ceb075d12ed07d6776e20be9ec402e1a5ed3612e514775e2dcd5907cd2b1b3bec3646af2bdf79bbefeaf6eae57a8fb4ea1b591c87e8156dec841d4bbdeba1090ca079471845f9dfe7ea9f1dd2d0b6422def4fc5d92d38fb359c1b036547d1bb39e9e8172e4ae03368d2daff8db5c6c1f9d4e4fa5cbd41f5d9bd932516b5f1ae4bc3e3c41e0132b073871074079f2481f39f41ca12f93bda2a27615635868702dfb66454087f3563ef8a7ac218881e7ad943abe0d365bdc0c07cde8164bde043cf2546cb0970e5fd430ba4d7a97acc887fa086164038282b808abe56e1b68767c9b7a3fe2e211f979d5dba8fd0605f5a7039e9e24196c92c29ac3d8edcc523b6ff14d54e2881ff999f0a5cb22d10ad8a44c795a68cc24007b2a0985a7bfaeaaa95676ce90fc26286af3b9f5f9c5e9339a06c16b1616dd27a37bc109760e33e5ed41932380f6fce7eda1da600fe3e9c2f5c32bafd697f7aa235f9c6ffaaf3e930ba8904ea0b54472fea0df902cb6028a3cc5a3a8119dcfd0100a67e01dba7d5afbedc5e640c45f7c93d8f23185c52d6b172b714b686af676bc0b45dd758a07cd3b96ebb970d37a86291104d2ded4584bf1913eeebf381d1d680c23dacd59923f7b40118ca0e2958fbe49177437e3832ccbf70c92160543c4140d01d825291cb1bae9375fd0a629696968cceed3a6d7a9625fd604bad0a929640989e2c5eaf2e8bc44a013126eaa8074854c028d599d8eba12522a17ac357fb2a90984ebb095e564851bcba26a58912855bbbe6fb7d16f3764c4a080fc7f30b52f03126aa9ad3fec27d39160ed56b2f07e571c026a6d422ad17b009bd758613e2b6d7cb05e92721b0994e00015af94d3261803fe765280f1a63fc0c6bdc4825eb4fcaf87ec6b591cffc5f19284d27fbd2fdf17b275328cdc0c2e6d89cc0c8ee92e4cc1f20cd94dfe84df65e20abb099c096cab82b09fcceccaf5ff3ceb810bb3ccda6247e6fde540d026b9c1b38f122b0b83d5490e1aa290ba458646af29bfc4c4e76ede4b702ce5d323ecf1d7638238646dd2711a7bfff94994c9bb365f8e91637e66b1e1f38c6febd2865046b452f549d44a6a1676a3a0a1beef1fa0af0f98cfdbc311b739ec41d24d7d30a231a67b205c0b3f6597eaf5510d9e4276ac19d580edaf9d4929ca698ba3aeb295cf1802e83a9f78de3738fed0f7c5f47ba643853e6b41e40a71cfc7aab0b5824823afc104d53dbc89e611781f878111f7301a974eaa2b1d31499bb418990b62f9dccf98c86b58a62b8f4cd37b810ccbe1a932e52f26dae2ffbfa23845507700a551084278e770f448342cc6bf6512b348e3c6ab740c819490164f7d7207e291570a281a3c7d8bdde9dd68221b5e9e6d335cdef95489315a5e8c56019ebf4e30597bed5dba25f5ebfa7f7eb67f09f3642774c99b1d952b4df4257e5d5239c5219c86860f5d4c9557a8bbb61998243649c752bc93ab6c0d0dcc0a59c4761cff311aa13ab020bd22a0e51ed1db8cd3dda80a52c6d02533b1a88b640a4942ee5a11aaf430f8484a6adc79f523a30c6d7aa49853720b05518de517673c85416d085";

        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber);

        vm.prank(player1);
        zkTrade.saveGameDetails(gameNumber, stars, proof);

        vm.prank(player1);
        zkTrade.claimXP(gameNumber);

        uint256 xp = zkTrade.getXP(player1);
        assertEq(xp, 30, "Player should have earned 30 XP for 3 stars");
    }

    // Test: Claim XP twice should fail
    function testFailClaimXPTwice() public {
        uint256 gameNumber = 1;
        uint256 stars = 3;
        bytes memory proof = abi.encodePacked("dummy-proof");

        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber);

        vm.prank(player1);
        zkTrade.saveGameDetails(gameNumber, stars, proof);

        vm.prank(player1);
        zkTrade.claimXP(gameNumber);

        vm.prank(player1);
        zkTrade.claimXP(gameNumber); // Should fail
    }

    // Test: Reset season and distribute rewards
    function testResetSeason() public {
        uint256 game_Number1 = 2;
        uint256 stars_1 = 1;
        bytes memory proof_1 = hex"1427a9890f279407eb76c8fe529d7e7771e5081ab067e59cad76bea8e8c21d352b8e99fba4ccc4db5999cc152d99a4ea20dc68b2d5ce0e5f6bbcb9861e982bd020e73fb47f135784b40ddf228a40d34120634b10976dcf22907f921c2070f1500814c6ee7a986dac9f662352d28a2a7f295f389cfd86a202a5c4ec3c6ff682c32c6d0c914e2c183fc03af1e6d76ab320a37dbb145c487f2e7bb09649beaff4b42dbd7a4cec79c9fb25c9572fe7cc206098a6d46b1d20b14e6ed160f1908a4c52294c73b9aae13f293e424e48e5533652ff9be952c2cf4c4f98293431bcf569231c2a82869b88e5a6e7231e4ceee9261ed6a8e69824dbeb622f9c1f71a9bf419c15e5e5d1d39d6242a6aeb8eb5b4f437f73126a41511aea8d597cab3c6673eeea15f1a65431aa76bdd42d1354012bff7ef7b4e8cb88fea1bd2a16fa2fabc0bd501dc7902797568182d3d20c92a1ee538eca54f1c27d9652d6d98b2b5c20e715981ae61cfcee8937679e9acb4e590ee9660dc8823f70be478326d3ad6c69e6126518cd76ee22014b860b64bcc668d1c988832c52d89942da8ff3a14be5bacb665b21eb3907d4e2afba10691c4db02212375babda8bf0fae0dadacc6a20bf40d337173d1dd68139ea3dbe878a7b94b4faa41b1980992a5a21786bb259fde6065b03081c8739c1b55e3073971b1de45f0a803eb346f6054a2cca1b0b0ac31b4095ce2c7a434d1a6be9ab41e1f5f17a9adc772553b19c7eddf9a877c48aaaaa4734ae2cc2e200df98af14544a07de002eb08968c534f90aee42c234e5ade5235321cf1edd19d732786bc32662f16ae76e86224862a78ba5820154f22ad905745d06f32a0306b34a140a62a47d2398bb6cc98230346341a0be9d53bcc636674ee4bbde12097de2261532edb601e5d51e31bde33ae9c5bff9414158cbd46dd8237dadd518ac9ff152e8929a1fb8ec136ebeb46edec4993db9c7d5a7d63a4b18bccaa68527d5f002376994360e182bd394125639b9128a74fa964c3edcee886f1d6fe6ef149df65a24918a528b00b27b0389ec9dea9e553ee39abf229b904c475529f92f0bb684f38ab9f7f913b218bb59b89e79fbae79f602d297e4a3a091d23b228fcd2a11be821472eed0cb97b4dadeced8426d08ac7ea2e59fa74cb5fe696da92fe01054553e8905859e71e24f004d131ad72d2a94d62b8ec99b05d294db4190634912bfaa191fd7fcb687021f56debfee7b06a5cf40b5ef8382e41c08f8e0cdcbdd1ff73f2e71b771f22009411f8426dce9d840ad53282bce4938afb05b3a0a96da0990e8567893b148cf668b92bbedc30b6263dd87788538ee115316e8f9fcb30b27b8b96b2791717258e1b46b244a766c4c3a3525cab4354ead2c8879896a165425b26b6f033a663b3ff7db3d653052a0c56959d7f50d6211afc0395002564952234069b00610e268dda9c834338a118e759dce356ab4639c75f17676130aca5a26883a9064646bd74684ba5fbe788a8bcb53964ec759c76d288963121d8bb1792333a1f4fac9d36ee81c74967e7435f464ccb5abc9c2789e0662714768f44e3811d75be9185c36abe515cc13c52c89f63f5826556ffdb430e2a169dca6d68dfc072af3c86e11bccd0de90c1e7409ca2fd594cd637e5d652ca30bbdffc9febba52dd53deff7f1e69258c821c47f09ded4ada4b578b608c7af23194a77fdc90a701d6b05823da163ac8281cda5a8edecc2e7f545f42262012cb37ec9272118447c110f411415f95544779cf64d8e49581a82ab634a2c94d2d1d016572bb957ea181da97054b573712dd51473123329ab8de642a453d86a0e339e43fe47d29c75f9236a5765b13c489bba84166a01ef87b19ce12ff25ec96e60002ddf4e8193d4761a34a21b1a9bad3eff1d5572a08fafb598406d65b9cfba98650e29c42b20a3022cfae319aa31fe0a8e456b1e7e3760fc84ca4f3374cde4b9182bbc1957b6b8951c90aaabefe17b24b7ff16ffa81b6eeabf1adfaee1271e36a8913ac87b05f2a10c26723e3590f83ee1b8c2e0d1ff7cd8f96b702a4d8057b438f6b9779e552cad2c2088435c721582c3c2b4787d64e3245befe8ee339301c30d3e2dbab1a466ba0d00cd148350e0c6ac3b7986d2d1fab12245d66f8ebb3aaa43e447d644677e8803658fa4b4063340db3588ce58eb8328ac14e6f763ad43b415d8e5a353876bcb1d4c8d3b4e27f69f0aaabfbb7ff8f5e292836481ad2c53fe825851a6fc2924b027554b7babbb349330006af8f80973cc63c6805304bb9ef7889d5a68e751df8629df7a09813657b2bd092b8acd168c32b9c9989114232b2a6334f6184e91deac103d31ae88d85610ebc3a119228ac90d3e1f1bdc90b95975fb4e77c167f8b97c1bbc1b686d086a8dad04800724db72c2aa87bd73e83b2c29eb62378cc83733500cca9924af237d72a616a59f1baa965b1b1eb57b7fd2ae91d443ab42187f5e8a0fa294eaaf331e58984dfe2ed97d14b4b357d984cc6bc8dc8014d361225f90901170529e7b4928e3364792e3220b1508f1eefc3cc92d39cf08a732d884ddb7ac1a7397bd225b88c6cbb008acdf30f3b6569fc1b302c69e76ee5adea23c04f1fd1e73ffa92b7a100445d18944db357b35d2e0de0ee89cecfb4d402cfb3706063321ef40e9d831e630b143207701ff4c10e7d8d85b826b2558368ffa97c55556e90077f6272bfb814020772ee2b65e3acc725951821ca8feb29d87d74acc71c8d10f64f9d760f6bc7947fb8304ec3e81e5250db2f130a0489e4861a991c38e3aba1e51fd8795f1f7b26f7fd727221ec8fdd7c2146044979289f33b7bd8baaaaca3023127b34740604f33e1d0ee07dfaaa76059061dda621a9bbf86badc2881bd840dceb891694105a2334bc54acd2b0fa12ac828d05f94075ea6ef7e59032701cc161ff8d85d464ccb82a780d5f2898bb95ae6f5d1b2a2c83fd6c23b98b614b3d02549e392a371b00638dc5a0a20b66bd48e194be5b6c8742611500dfb592d00a2";
        uint256 gameNumber2 = 2;
        uint256 stars2 = 1;
        bytes memory proof2 = hex"1c28f8a0ce8c6d76e5dd61aaf1596e60133c037b83d75a2bd67b3c27787611230eac7519a777c211ad6697f43dccdbc90a01211c9ed685d72f9f1f60a1f57eb62a9a27af361bae971281d0eb2791db8454510de1cfa4bd9fa63c95b61bae0ef01f8a40075d7e4414148861037fad67c650287c30ac166d83db2688865e8289100d5226d87c176c16cedf467e615558a5bbe08235425ba2f9d332650996e5b061160487cb64cd15db0bcc6006d42294a5bbcc546e1dc9aa9b647e55a14f26e0cd1e326949c5453525973c63514c96b423a4b3d751ec46adf3e1de7339fd8772ec1e6599a70082a8c118c2dd5eaaf69e5514aaa30ff6d07b6d44fdaa0f930e3cb40cb66797580f5361fecb2c1e2cfb722011bed58e4d1520b2b501d4470c86e71120bb9b507cad05644d86e3417e63045ac83d0ca12363699934ddff351f5c0146243e9ad235942e23ad22e5375b5084b61f8a05600ab6ae43a6f20a63d1cb17620ed147231c3054c8eefc4051675b43d5c1978263b89ad1da4b65d58b0e168efa16e6800cc15d1b31beb7b75f5321548fb2ebd7b9fd3165513a1075a4713f9cfd0dd22a8fc9343516c22ab87d4e0ba1c5fee67476b9ae1eb728308160907b0db3148b71d9384368e18257d30ee9ed8763fa6e1932cf8cff12b1a2eced980815bf236af0ce2805196164a075188b641080d08316372df7e4232abd30b49aeed662090f1e2ab207f06dcd7dc6515e261e0450c1e9aaf7940a9a00fc3cd06a72d9b810371ff6fea7a3ead63be13a5db5023806f4a20931601a9e63e692110008303c29cfb78bf6fe2d590bc9506a410466d34f63a333b3401e3b4c778cad566263d9104ebeb96725f4160792d55e673399947f31488f8ef1f626f16885d67213fc3d289b4b7bbc518381d1fafb6c98eb2672a540b000faff997a6af5c4f56433e91615870d720dd81f1970c6ee3448af9dd8b55fa125bfaee46ca02a204ec4af550311ec077a1d044c4f3ebf51f25c6465bd7951d688eb34c82f395ee37179c36c91021af2956346973a838ca20590a080cafff867629e075d7173ff2d4ccd9c62c601154c3b1814fd0735313bb2426a7ffe03370324ba77a282ecc75c7241c128750a37724f1541033d29f5456989be58cb690d0c6ef276d23bf7afafb38021630902282ff281e15895c7a3f2831110353252ad824c419b7d66a2d6d707e15760b72eb2b4c300945fa9b4943d1534c3f7362d8e159fb61b76b78a227cab4fcb5b0314342fa33859baf2842da2290686fde707046825455e78045d1690069f13c32e11623ad38124ab2510337cde37ffb5823005749302a942abfd44e9b0acc9689521c27a8127b667b42a5356ac249260e4f7bbbbd62ecad3b8734889ed4b219df320dc257fb3f49358062c45e8e5eb780e680ba994c27aba997acbfc34d566706b304cda6f3a299c95a51fc309d83e7625107b4c0e6ef6d62b0d3109b92ecd1c3926acd8321183fbcb738da080886045ad9d42d0f124a7ae81810cf6ebecb62cd91bfd655942cc048f4e8a4f1eac764679dac01811f8abe79b357442272d35920e2bd5f6bdd6c9aa484bd7645a289ad79ef2da38efe860ec13a5a59d4631cb9daa1e9ac09799b8368b4a2e750ae28c3326ea9a5acfa4ddc314f8531721aa3ce20622546326a85b93fe45a02adb3667ab53b6ff31bf00a16c9cb196ca6952ab5f2a2624dff21065c0e1a2b1f6baae3a4c95e7c6374600b35c3c538b19ca5bdadb842a5f6e2545255f6751ebcc434cbd10e1a6d35d45c299cc1da5c24e058a9dca8e10f8869cd29a94ee0e8754c54a67ba0c807b2cdc8dea4d0a727e833376c8264a3060eb8f709b5393554e55055a09aea034d8ee3294560ec050fe9b0c9e0580e205454676dd75270abde1d74948dda7d8c0a31ec2129c235c25e65384d44197f72dc5d988e07a1aa85cd58e799ddf8f1a4954425400d73b7b9773b88c6e39d438013207e16752a762019714a29430d7ff51e75f92872fba89f586125987695091050284accf5cd4455ea8e0820c03794182ae65198741aa29977a61ba9098cceb08d3017837670128bbbaac6183d61a83b3756aa0875399c9396eb11b99c8494529f55cbd786fedc4ffc3c29a260cedd8188d3ccd00c54bdbf57f692b650a57de1f2951dce3b3d3dfb099951907175eb351232fa1f538181af2a9304d5c0f304521bb1e1d7ce11ef575e60493b90f2732eb51abfe44b0bc47ee37a736d68845f220049805a5b34a4a18618400624babb8f2966afe406b9911c7501344cdccd0c6067c54ecab9e75ac686dce281c6e08b3fce92cbd4a77332711c37a0667ae2b0501698fcc913f64bea8f259dea803cbac403841fe7f92d7ecb7675bc213a8bafb12b970754631a5018b86bcb80770bcb6675516d26c19c5ca72ac53ba88c51c281aee70df6fd7f9d6e0d90e5c8d01771a36108460547d4e52d31e67b68f9bbdc01e1e82dae4d45e19f25f90ac5019706dd6502a4c522ec57e511db91814e1c8d2145a5ecef8c50f8535e8808b86154c0e28d5507ca8087f5024696330a97652f40e376e714a149db674b45bbaad6b0fc0b07ebd7175f8c5a09863fd637db69f6825ef4caee31fb435314a49c94c7141d6c63180fd47aaedfce26b06b5826a4d730de1f2043d57e63ca241228724a0def3b5f8e46aa921f863778c1e02facfcbb2171ad34267fcd41df929465b7d43d5978bd648d4f62e5fd94cd2c97137b672012053b48092a1c1ff50116a2fd5e6cc3b61b3ad3f433ac74f221974df749d1850298c95bebd46afe0a6f98e042e89c2df379111a990472ec4f760204db183be9f07df92aef885f4250e796223072903e5802357bd955c1a309666b82105375d1b1463e8ad91a121a5261b6de3b1bd4e3123e5c984645e93bd524342769d9399d92d03439e83d47cd9f10c22415b51fcfe431ed0fbb41854f66b03fb1d752665790bb4878b3db04d6668efe624002c0cf1f7939668b96b52d71fdb02a646718a98";
        uint256 gameNumber3 = 2;
        uint256 stars3 = 2;
        bytes memory proof3 = hex"229ebb8d7c305b1f60aaadd89df03ae4b17dbe81c048bbbecb5f61180be3b316029448d48ba98f22982dfdb569ea2fa3f2b38e1a3f11fcec6f389483a1713346065d31e9660d90c4a4622ef2a3bdc10fb14d097bb81759ead3e205c9e71e9cc61940a08994997c0c11e2f578e8a3e09c80ed5761cf4b453fafbed9d57d07e4af2af6ee578eef885afeb034fbe16cfbe1b487a41db0cb03cc1417b504d98b46a12122ae0e43f7fad280441423d00fabea953f02626eba42f9fbe7156760faffda0064caca9b74f453837bcab31df5a999c532a731a71b73a775c95b39c6d35c1b027d1135f35641f548da130b174e8cee60dd6811b3cf0a41f30b44fe7c57fa871ccfd372cb37522746190741a5b9e164bf0f7519545035c64508f4316323a49b10df592dc98b871f018f3519150d0f8339ae0429309f24c8dcc990075d576352028b83d64d2f767331fe6192ee3bb1e4bb05bf4d48687d278d4e038227a82dd81c33be6d34dbaca0ace74867ca9fe2fecc08819024f8383bc41da71c33594c540190100062628773e54aa8a948712919d7d5067cefc2c4120da68bca82aace7711bbc1905eb558f1c9b3b93497d96fe71400b09fee84e9e18ca2c0ce99a506a52ef691bb0866f13aa6037c750bd980e24ed1013f55170706c4da9baf68ce2d4b0df73c1b3778daeab526fece3aec789f0a3195e3c185b41e96b7d01ac11e17b02b745dd1dacea6795e5cb53fcceeed2df9ba3e24e051aaf8aa1f8afafd8432f913f901d19a73f63784c41c839bf53b1ba4c3c0298bbf1b8aa5a51b49d99e219a04d578dc21c7200b37a5062409084ebbe35103dce8d85c63e9944da5fc16a8fc0bb6af53bb1571fc5c43d256a64a4ba9a19f3e4203c00e3ceb5f80d13f44985208891bd12c198827c90d58f4b960b48c7c5e3eaac1d5f6f63da39c21245ff5a82353f042d40ad0cc2ece5fd9f6ebfff9828e5057a3a93625a0985961004b505d289f94f1aff0d1db75573caff28a58b03170d904792103ee632a2235ff4ce27e059eb9e9598ed35f3ac2f5fa4d5824a4582d91c05c05f36a4fe06e78011ccae1121e3ae2158a184e3914a6d812bfa361c27da573d3738d9c9bd9bbab95060d7c18a2933aeec8f507721fac4f74fe600e66b74530f8df121e7a137f4e8c5498a12a8a29d206c2a47defbfb1f439898844dc7a35339e86bddb989f58988b6abf821483935ab6e7755ebced2619c6b95878250384339910f7b30c3688fa4dea27c729d4342d536ffa431ceb2e87457c063f1aba1ef709897f8c68a19ed08148f2e8277ae73fe3a68987e4e764bbb0bb6d60d9bf04ece1b12b316df17bfad7f826a42408cafe837ca64132e7f490226c2d60755da5948d3c4b1270b5ef33b5ff597c000897a732dc991dc24f57cdbe44bb7783e6cfb17f8609184dde9d9a48d736ae1fc2f4ccd234402f6564bf62acf8acf492d0056d371c8cc2d91fdf9cce30ca49032659e57e29d0e9c46102d92b4955896129ccc3b727d4d315a13c18d78019e11100d5c3f4c3373ac75e99113f841d1020ddb44d7a5b7b82290b7595244320f22780b5642505756a9a4123daf2139fea606ca8fff0daffe7396ce0825859c58f056363c8131124b6ef6bf908accb4067910876ec653505bccadefee93ebd368c0ca1e6548d8bb8ee5633c9689b90fa85e11d69b03dc5b9ead7b676376a32294e238b22c9e4ea311b5c5d37a8e668cbda9a37c0395e4a8ed3b8847eb835fed8900130e843a52ac566797032a19335f3f38c2bab30abe1cd1e0491c3783ede165c257608b2c2d6bc0cac38609d8790152399e9c0cfc11bdeb9220cd56669d284140f2b26aafdf808a9eea5cc73d420d76cf2f4a7b4199c323466c91bf576cfb4430c25ad82ca9f4eeb53a94ce621e23d47c4b4c18f0e28ae58cd7d002abd8be44920f94d41b275814bb05fce72fa971626e4388503259ac814363e9a25dd983713077e3b4428a2594efe38f6fcc3ed8f1e751ef343cc662c6bd32aad12b964e6541e6777b98000d17c0462653d0ec560732e3949cceceb0154b3f8b5938531959604ec65bbf62da97f523b8dc6d81bd96abf1fb80d93b665ac50e4c88060fe44d70a1010cc5b17091eaa366032afbf44d22b1e2e7a0515f32b557091a511cb87d1237ea0000b033a836333746a737314e1db87cbd208a2e88f511c24bd1b1eb93b2fd00e695cb0f0a7e2bf2ecc0871428ce9410739f04329f2c0c54c931bcbde761cf6c8e7498609f06719f69bee5cd69c7707b42dac9b2d217e6ee47b24ed29f507a49dc6bd9e57ebdc8e4926f63b6067fdf3978b28743a8c14a2f6460fe09b870048fdd31f7e987083eca281045f5518c477fcb137a4979265111a90ef42112a04df06c231ba004582121b90d3d803de4cbcc2a378abd6c41d3738bb202b64a60d0a28a7e2877dd8099c9ccbfd88e378dfc0f3f9e8e8df7bd1064019c6cea54510764206333cd41cf4089a32dc4953e1d837f90c4d70124260f7d112dab01fc61daaf27a82e424578e6352f14e726d04b035dd50091d1221d89ddd4d2ae027372c376a25d1a7ee4aa9c96669c2b0d6dd31741b7e923835e6e8749def2653ab2826b63c1c8b5bb632ae8371fd32b7835ad2a24f7fc19dcc1855541a12da5f9d8a04d2f4f01438ba2d0f37d126ef93e560e02cfa9524403116357e92ccf2a4c5800539deaec092c9b0d07c77ea2e358dd39d860f76e7458a82b9f3c9b35c3280a005a0c86d6cecd93491c11ead6cd736465adf2458aa4ae3ef3e690099c5c03bc00607b22c1946e8b85305c570ab78deb91838393a6d503d5bc2de37802f4df6e018bd9854f8eca2faf54d340ae453cabbbe41a522c491b4a510c3600d09e09d001d5e693d3534cf2031fe4c63fc2e973887a89f37eb5dd6f0989af6ed0c0d83561611ced9c6a22e6fbf769f364b53454972ae65cb01fa0876cd847b989a31df531d00d23afb2eec00ff4f8161bcf2dc4c2116fa707deceac777a950bd8b890260";
        uint256 gameNumber4 = 2;
        uint256 stars4 = 3;
        bytes memory proof4 = hex"28e109b4be93eeb98f8cb71d48e5b6cf153e50aff645056a166b4953dff8b9702794d270f9befa9b7726fa454adfa96e020ad7d379d41be572e8d6bc0502c33e2d705a993db4ad6abca01dfebeef8a205f3c25d463af3a0bd6ef503eacb782841e7ee9eda861aec04b57fe01dc1a9561e8daefa165af96324042bc536f89071004eda84a73ccc791b6e0ec953fff5c832396107ae97adb9b7ed507c93d5cd1731513ae027a515daf2f3ffe5f469547e8b15e7b0e2110c5fd952b5a83dfe77db31c5de0b6a2d57e62fa3f7f5dc728a22cca1fae62974376ccd5df2dd916a305ce2958555706a582301094f8c1ea87a3cf5949dc29f0050a4cc7a7eba14887c1c726c911798567053b5600cace9289745bc1cd084756dcb819837909f504cf8d3d23ea83c8695cc2f69fe5c468ac3ec65fe657096e6c731d85a2a43da1deba6e4a1bbce684b0571d8603ac03b05d59f3f220e52f4333f9bad8ab1e0237259c266b2d10adb7fe4884027d7fea1e513b4ecf4e54d441f85417f8d9ec4c312bcab8612036a0b804f9bb5028ff597f4051ec3a32c0b2bb8e3361a07b7a6b3894f0ac8912e0044e27b16068a79a1174d259c089696fe851d4c4ad765a092e92447eaea02045cfe0ac707a8b6f1bc88eb7a300ec564237aaa07d5e73820828774b178bb52273698248a48c012ed15ada61150f38a29e59a0793e7fc1701070604f4b74d307ada4b3ed766d40fbcc62a8c599bc8f0b5db8ad42a08a04d2c1edd6c75fc68e259d08024f5df8ae059ba502cf351fd077c4de80631d0383eeee60a51311f5e72089ae7b84a25faebac24936b3e7d06dc906bfb0619020173f4b708300fc7fb900b23adf42a75050bf75e76df3943b7a302b8d40f35f4bd515d5c997dacb3bf812c02678ad26fce3aab44e94ced8c868bc363562d5a74c134a629c9fcbc8d8f11377a0f9aed6ad2bc7f176d94020f86d234146c2a1e38e0015ba35b8b50758601226ba61edfb7665da52dae611a4f4def149d81ce49860e452db084dd45da4d1103894aaacfab9ba5c0ec622433c76a730b524b3e7b4a1ae615f99ef27aa4b05144400310fea84053446f185cc6b0d8ebc7dfae2a1afc5dd6b9c0041ae2d20a009e5e2b927359b1d1d31711e3c3cda595ecee4763572791f9b81e458d4d974502950370350d7672047eb0f2451762d8f66a9210f1381593b01e590018e84841a02c731ccc1f0c4629efec98c43a57d913e6ccb07a6afb1c040df0e453ce4a45b276d7feff75b12a0b38148a16fc7d19366b829a8e2ab3d16acf2c0009d9581391ef0ed45c14ade642f9b26a5f6be830c9c1582faa9ba6838c16c27ffa47bd62a03535cf6d227f0a2898fe4cf85ce2a1e1dc010b37762765db821539c409692741a994fedbed04b7004e1238e8e91a24670224f67ca9c04ff4b8220c75ceb075d12ed07d6776e20be9ec402e1a5ed3612e514775e2dcd5907cd2b1b3bec3646af2bdf79bbefeaf6eae57a8fb4ea1b591c87e8156dec841d4bbdeba1090ca079471845f9dfe7ea9f1dd2d0b6422def4fc5d92d38fb359c1b036547d1bb39e9e8172e4ae03368d2daff8db5c6c1f9d4e4fa5cbd41f5d9bd932516b5f1ae4bc3e3c41e0132b073871074079f2481f39f41ca12f93bda2a27615635868702dfb66454087f3563ef8a7ac218881e7ad943abe0d365bdc0c07cde8164bde043cf2546cb0970e5fd430ba4d7a97acc887fa086164038282b808abe56e1b68767c9b7a3fe2e211f979d5dba8fd0605f5a7039e9e24196c92c29ac3d8edcc523b6ff14d54e2881ff999f0a5cb22d10ad8a44c795a68cc24007b2a0985a7bfaeaaa95676ce90fc26286af3b9f5f9c5e9339a06c16b1616dd27a37bc109760e33e5ed41932380f6fce7eda1da600fe3e9c2f5c32bafd697f7aa235f9c6ffaaf3e930ba8904ea0b54472fea0df902cb6028a3cc5a3a8119dcfd0100a67e01dba7d5afbedc5e640c45f7c93d8f23185c52d6b172b714b686af676bc0b45dd758a07cd3b96ebb970d37a86291104d2ded4584bf1913eeebf381d1d680c23dacd59923f7b40118ca0e2958fbe49177437e3832ccbf70c92160543c4140d01d825291cb1bae9375fd0a629696968cceed3a6d7a9625fd604bad0a929640989e2c5eaf2e8bc44a013126eaa8074854c028d599d8eba12522a17ac357fb2a90984ebb095e564851bcba26a58912855bbbe6fb7d16f3764c4a080fc7f30b52f03126aa9ad3fec27d39160ed56b2f07e571c026a6d422ad17b009bd758613e2b6d7cb05e92721b0994e00015af94d3261803fe765280f1a63fc0c6bdc4825eb4fcaf87ec6b591cffc5f19284d27fbd2fdf17b275328cdc0c2e6d89cc0c8ee92e4cc1f20cd94dfe84df65e20abb099c096cab82b09fcceccaf5ff3ceb810bb3ccda6247e6fde540d026b9c1b38f122b0b83d5490e1aa290ba458646af29bfc4c4e76ede4b702ce5d323ecf1d7638238646dd2711a7bfff94994c9bb365f8e91637e66b1e1f38c6febd2865046b452f549d44a6a1676a3a0a1beef1fa0af0f98cfdbc311b739ec41d24d7d30a231a67b205c0b3f6597eaf5510d9e4276ac19d580edaf9d4929ca698ba3aeb295cf1802e83a9f78de3738fed0f7c5f47ba643853e6b41e40a71cfc7aab0b5824823afc104d53dbc89e611781f878111f7301a974eaa2b1d31499bb418990b62f9dccf98c86b58a62b8f4cd37b810ccbe1a932e52f26dae2ffbfa23845507700a551084278e770f448342cc6bf6512b348e3c6ab740c819490164f7d7207e291570a281a3c7d8bdde9dd68221b5e9e6d335cdef95489315a5e8c56019ebf4e30597bed5dba25f5ebfa7f7eb67f09f3642774c99b1d952b4df4257e5d5239c5219c86860f5d4c9557a8bbb61998243649c752bc93ab6c0d0dcc0a59c4761cff311aa13ab020bd22a0e51ed1db8cd3dda80a52c6d02533b1a88b640a4942ee5a11aaf430f8484a6adc79f523a30c6d7aa49853720b05518de517673c85416d085";
        uint256 gameNumber5 = 2;
        uint256 stars5 = 3;
        bytes memory proof5 = hex"1dc2da27c6889933012309d7c89f3ea90b9480a94df8331462d1eb98add3850b07f6b2826eaf44b1cb86372100f65e43c2a8809bf1c1be93976c8a93acbb684e0417627f94acd7d3eb33c0465d55757a06a99e329e337b8b257ac94f6b0c69c41ae1fc7796614ce8a61e9fd806f2e0771e8eef986487b2b95ff459dedc7026d71949c5d24199d527a52107d4de08893259d5aff4300e6d02ab00587f7308ec2925e3fef9cf38c0ce8400fcda2b1f837c4f77a32ec95adbfce3c3fcdcf42a8b86014f05106445e05f13751e97f752b86b522d4af22cc29706172101da80c26a71036803818755b9cdf4514b7a8641abeee42ce02c2a76dc55bb66e2def30e3e531dc90078353f6baef20fb8f06220a0b83815e83f54cedc7dd78cfb459852bcd92e5f68a1ef77869a74d0d6e5f577f73de06a3dcf9b524c89f7635d4eb9a2469911f27e40897f82a2dff0dd6d2ae9c0614e4dd097de8d601b95c8de41692f95951ef806583cf1b8849a8f35973c1f8294431b26c468a086ed60d4de3df86c977925f41755f09a93a0d4d59b0b84a9e63f36178d727cda8f8fe1cf73d6855b6bb62d99e5a74eddc38aeff29c2605b95fbf5f9bf61b71a03357219eda65ba08507b20bdf9e03c0ac2e76686e993172380e4a1a09f6c69a07b7fd5d5a2f18d03b6b21b9c6a8936ee534e9a4495006486a6e3d160ca9bb97f9f31895e78b94895824c069dba03e3cc0731f27e7f6c3bf2eb9ce81de724d6d7a491fea9ae88205794a8290a5f34e5941405d6b550ac387dacf41d59bbdc7da7863d405e5c385438c7f0259a4ba32ad2dcc4dd7485a0a30bb2a59d39d11e79e67368259f8799bf81d4d913015c784824815dc926d48c772c563130cb5761d7f35331d1768464703e6ddb19bbd7c90dd5b1590bf10e73fa18ded800606c76132f33c7b31248c8d3340f2a06ef34c3b9a2fe31cceed49d0f545e68cd63a1266f65d51e100d7153cddc51740e1f3bc81a2c7764b365433f6dc274bdcc249a7e29a394584c8a6a4249cc159d125d59b91a437c734b23e524f8450458693422409a9e5ce81b28e947e395c60516435cc1d8559e8fc9663651467b483ec902842022ad9383bc2f55c85ed53a330ecbb5332c5bb1fcc8f3596e6fe3842a17be49ccb40743ec112f319a4fc6f13522e2d47b92e91e897b7ae557df40d9eb751cc33325ea20180676fb1281d32c8120f6c26026285d3a7d58433c48a86e1e61086ed782093ded78e695464c6aafab08047f6a2faa31d560588dbcd3bbc05f978c6d7b6f9ec3d3e881a62a19248d5d03827b6b9ef3a22db0c471db9d7028512856d208d2aef816dad149b78382818d257b02282809e9a2a4968f1a5ff833b895eaf15067d331270d9c0b7353b8eb0a120fdd144b0405921c69171c35e30d7beccb313529a3e8d15cd7c7a6c79660b7231c1a235fbd33a0b9202876eb50679ef1d9cce42360cdf59f04bb148ca648df1ea1b0eb56b00cb86c582f0e602a13e78354e292f163a6f205ba9e985bddecde1fc79ed7ee4eda821473c2ecd3ab888593abfb906b63c39e4d5732a1204220c52634457c99dd7f5e2dbf21731070b8d94d4ff75e0d57c74e1c5ee28bafa31bba1a040d095cf35745f496238e1df28b70b8e3e21f88f149a735e572582754e421169a2e47e10163df4505af04fc02be46b9266827485f9ddb82a55b21e1c44075039b2d005d07eee588ff1542a590ac252da1d399a88999cfc8534d721e68479e12ac048cc32755b0d900497ae466fd19067f308a51c8dcbae1863ab98f6297ca0ae8a9251e044015a31d98304ab0a676c5ea31242edf065c5acdfc75e15dcf201873f9771727a421f27f4f6255cc5ad06da81597de9c40f77e85858d6ef53d17122e4f161b2bc754de1e97d8ad7e5ae3690cd6177f81b86d6eaa6c800326bd800e0178e43646a51bc94227747a2de03f3ecc92c6e2970249979127a687b055f12b66c60f937ed04bc58bd368a53d267adb7be681bc7a6ecf21210f8ab4545d1b1867c4c80f855b52098539a64ecb14594ff751f41ca46ac366cf01daf0f864440568c3808b8be6584d7e9fe3f8590237c472bd667cce66b7ac7cf42b2d9c6b6d21007a2bba401a158548c136d09ff260ca512754826d065551e335564b0c4ec80d210a516745e8525e5e3bed339bccabf1fabdc81cec57bcd47081a0762764fb06520dc373b5a0d25dc10b32cc651e209ede2eab55198921db39eefa11d59d751dfbefd9e7055becc29bc0d372b1cbdaf7e5fb58e1197265fa7d8d4e1c996c6429cab1eec09b77de9194f7af7ac177695156cc73cbdf5b2d7a18dc942c29dd0e2b7fed4bcdd5cef07c1e2c6f6812795981e1b0cd39e5a96b77db439203adb993276967b6727fffba1a18043399d1d16c64e5c4f0fd3fccf1d84c7f70664bca251018a84ea007c844ca797c07b9a0d8846a85fd016e9321ddfb89986b8cb6ceae0a6cd28b3bfdd66251a38463775407f7651158d3123d099b13b2564b945b9f8724f45e8aa0de76566e832c994cb3acb1db52758046a4e7b8291ae04ea6ff68961b2ff1e2c13e8fb5f398a91ae4dd28159143616ef50e9c81902e9d9e3eb02e122ba4ec18cc6f12678038b2ea54aec4652155aa48fee29bfece676c2a9812fae419e1da07d2dae30799ad85e4d069e2db9e6cefe52924114b55a710802032642d1801a5a991a8fdef6c754b3e01a7ee66284705dce26cf40581ccd2be798bec861621714b507718d73f3d109732e5f9f0b2211bd49bb5d6bfadf294fcd2e574df14413ced0f4533bf1204d5f06424057b3bfb31cc54feb979da18573b2c3efd382fcf5b0d4dcf1908a9eed55c8b54b5405e4d8a4e34f7213ee5d0bd854785ea6a1b962528ad09fda3c7f5408fded0096cc288dcec304d707384d5bd6ee37f2c3b05beaef444e390dcbb1a75958ad3a8e652fc3752e3c1362eda7fee8f7dcb17f00879f5af9faf6c9ef28456e5659c92169781425405f2dec35dda97c664fbc315";

        


        vm.prank(player2);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber2);vm.prank(player2);
        zkTrade.saveGameDetails(gameNumber2, stars2, proof2);vm.prank(player2);
        zkTrade.claimXP(gameNumber2);

        vm.prank(player3);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber3);vm.prank(player3);
        zkTrade.saveGameDetails(gameNumber3, stars3, proof3);vm.prank(player3);
        zkTrade.claimXP(gameNumber3);

        vm.prank(player4);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber4);vm.prank(player4);
        zkTrade.saveGameDetails(gameNumber4, stars4, proof4);vm.prank(player4);
        zkTrade.claimXP(gameNumber4);

        // Assign XP
        vm.prank(player5);
        zkTrade.enterGame{value: 0.001 ether}(gameNumber5);vm.prank(player5);
        zkTrade.saveGameDetails(gameNumber5, stars5, proof5);vm.prank(player5);
        zkTrade.claimXP(gameNumber5);

        // Players enter the game
        vm.prank(player1);
        zkTrade.enterGame{value: 0.001 ether}(2);vm.prank(player1);
        zkTrade.saveGameDetails(2, 1, hex"1427a9890f279407eb76c8fe529d7e7771e5081ab067e59cad76bea8e8c21d352b8e99fba4ccc4db5999cc152d99a4ea20dc68b2d5ce0e5f6bbcb9861e982bd020e73fb47f135784b40ddf228a40d34120634b10976dcf22907f921c2070f1500814c6ee7a986dac9f662352d28a2a7f295f389cfd86a202a5c4ec3c6ff682c32c6d0c914e2c183fc03af1e6d76ab320a37dbb145c487f2e7bb09649beaff4b42dbd7a4cec79c9fb25c9572fe7cc206098a6d46b1d20b14e6ed160f1908a4c52294c73b9aae13f293e424e48e5533652ff9be952c2cf4c4f98293431bcf569231c2a82869b88e5a6e7231e4ceee9261ed6a8e69824dbeb622f9c1f71a9bf419c15e5e5d1d39d6242a6aeb8eb5b4f437f73126a41511aea8d597cab3c6673eeea15f1a65431aa76bdd42d1354012bff7ef7b4e8cb88fea1bd2a16fa2fabc0bd501dc7902797568182d3d20c92a1ee538eca54f1c27d9652d6d98b2b5c20e715981ae61cfcee8937679e9acb4e590ee9660dc8823f70be478326d3ad6c69e6126518cd76ee22014b860b64bcc668d1c988832c52d89942da8ff3a14be5bacb665b21eb3907d4e2afba10691c4db02212375babda8bf0fae0dadacc6a20bf40d337173d1dd68139ea3dbe878a7b94b4faa41b1980992a5a21786bb259fde6065b03081c8739c1b55e3073971b1de45f0a803eb346f6054a2cca1b0b0ac31b4095ce2c7a434d1a6be9ab41e1f5f17a9adc772553b19c7eddf9a877c48aaaaa4734ae2cc2e200df98af14544a07de002eb08968c534f90aee42c234e5ade5235321cf1edd19d732786bc32662f16ae76e86224862a78ba5820154f22ad905745d06f32a0306b34a140a62a47d2398bb6cc98230346341a0be9d53bcc636674ee4bbde12097de2261532edb601e5d51e31bde33ae9c5bff9414158cbd46dd8237dadd518ac9ff152e8929a1fb8ec136ebeb46edec4993db9c7d5a7d63a4b18bccaa68527d5f002376994360e182bd394125639b9128a74fa964c3edcee886f1d6fe6ef149df65a24918a528b00b27b0389ec9dea9e553ee39abf229b904c475529f92f0bb684f38ab9f7f913b218bb59b89e79fbae79f602d297e4a3a091d23b228fcd2a11be821472eed0cb97b4dadeced8426d08ac7ea2e59fa74cb5fe696da92fe01054553e8905859e71e24f004d131ad72d2a94d62b8ec99b05d294db4190634912bfaa191fd7fcb687021f56debfee7b06a5cf40b5ef8382e41c08f8e0cdcbdd1ff73f2e71b771f22009411f8426dce9d840ad53282bce4938afb05b3a0a96da0990e8567893b148cf668b92bbedc30b6263dd87788538ee115316e8f9fcb30b27b8b96b2791717258e1b46b244a766c4c3a3525cab4354ead2c8879896a165425b26b6f033a663b3ff7db3d653052a0c56959d7f50d6211afc0395002564952234069b00610e268dda9c834338a118e759dce356ab4639c75f17676130aca5a26883a9064646bd74684ba5fbe788a8bcb53964ec759c76d288963121d8bb1792333a1f4fac9d36ee81c74967e7435f464ccb5abc9c2789e0662714768f44e3811d75be9185c36abe515cc13c52c89f63f5826556ffdb430e2a169dca6d68dfc072af3c86e11bccd0de90c1e7409ca2fd594cd637e5d652ca30bbdffc9febba52dd53deff7f1e69258c821c47f09ded4ada4b578b608c7af23194a77fdc90a701d6b05823da163ac8281cda5a8edecc2e7f545f42262012cb37ec9272118447c110f411415f95544779cf64d8e49581a82ab634a2c94d2d1d016572bb957ea181da97054b573712dd51473123329ab8de642a453d86a0e339e43fe47d29c75f9236a5765b13c489bba84166a01ef87b19ce12ff25ec96e60002ddf4e8193d4761a34a21b1a9bad3eff1d5572a08fafb598406d65b9cfba98650e29c42b20a3022cfae319aa31fe0a8e456b1e7e3760fc84ca4f3374cde4b9182bbc1957b6b8951c90aaabefe17b24b7ff16ffa81b6eeabf1adfaee1271e36a8913ac87b05f2a10c26723e3590f83ee1b8c2e0d1ff7cd8f96b702a4d8057b438f6b9779e552cad2c2088435c721582c3c2b4787d64e3245befe8ee339301c30d3e2dbab1a466ba0d00cd148350e0c6ac3b7986d2d1fab12245d66f8ebb3aaa43e447d644677e8803658fa4b4063340db3588ce58eb8328ac14e6f763ad43b415d8e5a353876bcb1d4c8d3b4e27f69f0aaabfbb7ff8f5e292836481ad2c53fe825851a6fc2924b027554b7babbb349330006af8f80973cc63c6805304bb9ef7889d5a68e751df8629df7a09813657b2bd092b8acd168c32b9c9989114232b2a6334f6184e91deac103d31ae88d85610ebc3a119228ac90d3e1f1bdc90b95975fb4e77c167f8b97c1bbc1b686d086a8dad04800724db72c2aa87bd73e83b2c29eb62378cc83733500cca9924af237d72a616a59f1baa965b1b1eb57b7fd2ae91d443ab42187f5e8a0fa294eaaf331e58984dfe2ed97d14b4b357d984cc6bc8dc8014d361225f90901170529e7b4928e3364792e3220b1508f1eefc3cc92d39cf08a732d884ddb7ac1a7397bd225b88c6cbb008acdf30f3b6569fc1b302c69e76ee5adea23c04f1fd1e73ffa92b7a100445d18944db357b35d2e0de0ee89cecfb4d402cfb3706063321ef40e9d831e630b143207701ff4c10e7d8d85b826b2558368ffa97c55556e90077f6272bfb814020772ee2b65e3acc725951821ca8feb29d87d74acc71c8d10f64f9d760f6bc7947fb8304ec3e81e5250db2f130a0489e4861a991c38e3aba1e51fd8795f1f7b26f7fd727221ec8fdd7c2146044979289f33b7bd8baaaaca3023127b34740604f33e1d0ee07dfaaa76059061dda621a9bbf86badc2881bd840dceb891694105a2334bc54acd2b0fa12ac828d05f94075ea6ef7e59032701cc161ff8d85d464ccb82a780d5f2898bb95ae6f5d1b2a2c83fd6c23b98b614b3d02549e392a371b00638dc5a0a20b66bd48e194be5b6c8742611500dfb592d00a2");vm.prank(player1);
        zkTrade.claimXP(2); // Player 1 gets XP

        console.log("Players before reset:");
        address[] memory players = zkTrade.geAllPlayers();
        for (uint256 i = 0; i < players.length; i++) {
            console.log("Player %s XP: %s", players[i], zkTrade.getXP(players[i]));
        }
        

        // Advance time to end the season
        vm.warp(block.timestamp + 31 days);

        uint256 ownerInitialBalance = owner.balance;

        console.log(address(zkTrade).balance);

        zkTrade.geAllPlayers();

        // Reset the season
        vm.prank(owner);
        zkTrade.resetSeason();

        // Verify owner's reward
        assertGt(owner.balance, ownerInitialBalance, "Owner should receive rewards");

        // Verify contract balance is zero
        assertEq(address(zkTrade).balance, 0, "Contract balance should be zero after reset");
    }

    // Test: Reset season early should fail
    function testFailResetSeasonEarly() public {
        vm.prank(owner);
        zkTrade.resetSeason(); // Should fail because season isn't over
    }
}